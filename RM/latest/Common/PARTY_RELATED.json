{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Common/PARTY_RELATED.json",
    "title": "PARTY_RELATED",
    "description": "Proxy type for identifying a party and its relationship to the subject of the record. Use where the relationship between the party and the subject of the record must be known. ",
    "$comments": "Defined in Common IM, inherits from PARTY_IDENTIFIED",
    "type": "object",
    "properties": {
        "external_ref": {
            "description": "Optional reference to more detailed demographic or identification information for this party, in an external system. ",
            "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/PARTY_REF"
        },
        "name": {
            "description": "Optional human-readable name (in String form).",
            "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
        },
        "identifiers": {
            "description": "One or more formal identifiers (possibly computable). \n",
            "type": "array",
            "items": {
                "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_IDENTIFIER"
            }
        },
        "relationship": {
            "description": "Relationship of subject of this ENTRY to the subject of the record. May be coded. If it is the patient, coded as  self. ",
            "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_CODED_TEXT"
        }
    },
    "required": [
        "relationship"
    ],
    "$inherits": [
        "all.json#/definitions/PARTY_IDENTIFIED"
    ],
    "$invariants": {
        "Basic_validity": {
            "description": "name /= Void or identifiers /= Void or external_ref /= Void"
        },
        "Name_valid": {
            "description": "name /= Void implies not name.is_empty"
        },
        "Identifiers_valid": {
            "description": "identifiers /= Void implies not identifiers.is_empty"
        },
        "Relationship_valid": {
            "description": "terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_subject_relationship, relationship.defining_code)"
        }
    }
}