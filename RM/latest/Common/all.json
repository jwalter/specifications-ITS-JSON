{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Common/all.json",
    "title": "Common IM definitions",
    "description": "The common Reference Model comprises a number of packages containing abstract concepts and design patterns used in higher level openEHR models. Several concepts recur in higher level packages. The classes LOCATABLE and ARCHETYPED provide the link between information and archetype models. The classes ATTESTATION and PARTICIPATION are generic domain concepts that appear in various reference models. The change_control package defines a formal model of change management and versioning which applies to any service that needs to be able to supply previous states of its information, in particular the demographic and EHR services.",
    "definitions": {
        "PATHABLE": {
            "title": "PATHABLE",
            "description": "The PATHABLE class defines the pathing capabilities used by nearly all classes in the openEHR reference model, mostly via inheritance of LOCATABLE. The defining characteristics of PATHABLE objects are that they can locate child objects using paths, and they know their parent object in a compositional hierarchy. The parent feature is defined as abstract in the model, and may be implemented in any way convenient.",
            "$comments": "Defined in Common IM, abstract",
            "type": "object",
            "$functions": {
                "parent": {
                    "description": "Parent of this node in a compositional hierarchy. \n"
                },
                "item_at_path": {
                    "description": "The item at a path (relative to this item); only valid for unique paths, i.e. paths that resolve to a single item. "
                },
                "items_at_path": {
                    "description": "List of items corresponding to a non-unique path."
                },
                "path_exists": {
                    "description": "True if the path exists in the data with respect to the current item. "
                },
                "path_unique": {
                    "description": "True if the path corresponds to a single item in the data. "
                },
                "path_of_item": {
                    "description": "The path to an item relative to the root of this archetyped structure."
                }
            },
            "$invariants": {
                "Pre": {
                    "description": "path_exists (a_path)"
                }
            }
        },
        "LINK": {
            "title": "LINK",
            "description": "The `LINK` type defines a logical relationship between two items, such as two `ENTRYs` or an `ENTRY` and a `COMPOSITION`. Links can be used across compositions, and across EHRs. Links can potentially be used between interior (i.e. non archetype root) nodes, although this probably should be prevented in archetypes. Multiple `LINKs` can be attached to the root object of any archetyped structure to give the effect of a 1->N link.\n\n1:1 and 1:N relationships between archetyped content elements (e.g. `ENTRYs`) can be expressed by using one, or more than one, respectively, `LINKs`. Chains of links can be used to see  problem threads  or other logical groupings of items. \n\nLinks should be between archetyped structures only, i.e. between objects representing complete domain concepts because relationships between sub-elements of whole concepts are not necessarily meaningful, and may be downright confusing. Sensible links only exist between whole `ENTRYs`, `SECTIONs`, `COMPOSITIONs` and so on. ",
            "$comments": "Defined in Common IM",
            "type": "object",
            "properties": {
                "meaning": {
                    "description": "Used to describe the relationship, usually in clinical terms, such as  in response to  (the relationship between test results and an order),  follow-up to  and so on. Such relationships can represent any clinically meaningful connection between pieces of information. Values for meaning include those described in Annex C, ENV 13606 pt 2 under the categories of  generic ,  documenting and reporting ,  organisational ,  clinical ,  circumstancial , and  view management .",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_TEXT"
                },
                "type": {
                    "description": "The type attribute is used to indicate a clinical or domain-level meaning for the kind of link, for example  problem  or  issue . If type values are designed appropriately, they can be used by the requestor of EHR extracts to categorise links which must be followed and which can be broken when the extract is created. \n",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_TEXT"
                },
                "target": {
                    "description": "The logical  to  object in the link relation, as per the linguistic sense of the meaning attribute.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_EHR_URI"
                }
            },
            "required": [
                "meaning",
                "type",
                "target"
            ]
        },
        "LOCATABLE": {
            "title": "LOCATABLE",
            "description": "Root class of all information model classes that can be archetyped. Most classes in the openEHR reference model inherit from the `LOCATABLE` class, which defines the idea of  locatability in an archetyped structure. `LOCATABLE` defines a runtime name and an `_archetype_node_id_`. ",
            "$comments": "Defined in Common IM, abstract, inherits from PATHABLE",
            "type": "object",
            "properties": {
                "name": {
                    "description": "Runtime name of this fragment, used to build runtime paths. This is the term provided via a clinical application or batch process to name this EHR construct: its retention in the EHR faithfully preserves the original label by which this entry was known to end users. \n",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_TEXT"
                },
                "archetype_node_id": {
                    "description": "Design-time archetype id of this node taken from its generating archetype; used to build archetype paths. Always in the form of an  at  code, e.g.  at0005 . This value enables a \"standardised\" name for this node to be generated, by referring to the generating archetype local ontology. \n\nAt an archetype root point, the value of this attribute is always the stringified form of the archetype_id found in the archetype_details object. \n",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "uid": {
                    "description": "Optional globally unique object identifier for root points of archetyped structures. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/UID_BASED_ID"
                },
                "links": {
                    "description": "Links to other archetyped structures (data whose root object inherits from ARCHETYPED, such as ENTRY, SECTION and so on). Links may be to structures in other compositions. ",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/LINK"
                    }
                },
                "archetype_details": {
                    "description": "Details of archetyping used on this node.",
                    "$ref": "#/definitions/ARCHETYPED"
                },
                "feeder_audit": {
                    "description": "Audit trail from non-openEHR system of original commit of information forming the content of this node, or from a conversion gateway which has synthesised this node. ",
                    "$ref": "#/definitions/FEEDER_AUDIT"
                }
            },
            "required": [
                "name",
                "archetype_node_id"
            ],
            "$inherits": [
                "#/definitions/PATHABLE"
            ],
            "$functions": {
                "parent": {
                    "description": "Parent of this node in a compositional hierarchy. \n"
                },
                "item_at_path": {
                    "description": "The item at a path (relative to this item); only valid for unique paths, i.e. paths that resolve to a single item. "
                },
                "items_at_path": {
                    "description": "List of items corresponding to a non-unique path."
                },
                "path_exists": {
                    "description": "True if the path exists in the data with respect to the current item. "
                },
                "path_unique": {
                    "description": "True if the path corresponds to a single item in the data. "
                },
                "path_of_item": {
                    "description": "The path to an item relative to the root of this archetyped structure."
                },
                "concept": {
                    "description": "Clinical concept of the archetype as a whole (= derived from the archetype_node_id' of the root node) "
                },
                "is_archetype_root": {
                    "description": "True if this node is the root of an archetyped structure."
                }
            },
            "$invariants": {
                "Pre": {
                    "description": "path_exists (a_path)"
                },
                "Links_valid": {
                    "description": "links /= Void implies not links.is_empty"
                },
                "Archetyped_valid": {
                    "description": "is_archetype_root xor archetype_details = Void"
                },
                "Archetype_node_id_valid": {
                    "description": "not archetype_node_id.is_empty"
                }
            }
        },
        "ARCHETYPED": {
            "title": "ARCHETYPED",
            "description": "Archetypes act as the configuration basis for the particular structures of instances defined by the reference model. To enable archetypes to be used to create valid data, key classes in the reference model act as  root  points for archetyping; accordingly, these classes have the archetype_details attribute set. \n\nAn instance of the class ARCHETYPED contains the relevant archetype identification information, allowing generating archetypes to be matched up with data instances.",
            "$comments": "Defined in Common IM",
            "type": "object",
            "properties": {
                "archetype_id": {
                    "description": "Globally unique archetype identifier. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/ARCHETYPE_ID"
                },
                "template_id": {
                    "description": "Globally unique template identifier, if a template was active at this point in the structure. Normally, a template would only be used at the top of a top-level structure, but the possibility exists for templates at lower levels. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/TEMPLATE_ID"
                },
                "rm_version": {
                    "description": "Version of the openEHR reference model used to create this object. Expressed in terms of the release version string, e.g.  1.0 ,  1.2.4 .",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                }
            },
            "required": [
                "archetype_id",
                "rm_version"
            ],
            "$invariants": {
                "rm_version_valid": {
                    "description": "not rm_version.is_empty"
                },
                "Rm_version_valid": {
                    "description": "not rm_version.is_empty"
                }
            }
        },
        "FEEDER_AUDIT": {
            "title": "FEEDER_AUDIT",
            "description": "The `FEEDER_AUDIT` class defines the semantics of an audit trail which is constructed to describe the origin of data that have been transformed into openEHR form and committed to the system. ",
            "$comments": "Defined in Common IM",
            "type": "object",
            "properties": {
                "originating_system_item_ids": {
                    "description": "Identifiers used for the item in the originating system, e.g. filler and placer ids. ",
                    "type": "array",
                    "items": {
                        "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_IDENTIFIER"
                    }
                },
                "feeder_system_item_ids": {
                    "description": "Identifiers used for the item in the feeder system, where the feeder system is distinct from the originating system. ",
                    "type": "array",
                    "items": {
                        "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_IDENTIFIER"
                    }
                },
                "original_content": {
                    "description": "Optional inline inclusion of or reference to original content corresponding to the openEHR content at this node. Typically a URI reference to a document or message in a persistent store associated with the EHR. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_ENCAPSULATED"
                },
                "originating_system_audit": {
                    "description": "Any audit information for the information item from the originating system. ",
                    "$ref": "#/definitions/FEEDER_AUDIT_DETAILS"
                },
                "feeder_system_audit": {
                    "description": "Any audit information for the information item from the feeder system, if different from the originating system.",
                    "$ref": "#/definitions/FEEDER_AUDIT_DETAILS"
                }
            },
            "required": [
                "originating_system_audit"
            ]
        },
        "FEEDER_AUDIT_DETAILS": {
            "title": "FEEDER_AUDIT_DETAILS",
            "description": "Audit details for any system in a feeder system chain. Audit details here means the general notion of who/where/when the information item to which the audit is attached was created. None of the attributes is defined as mandatory, however, in different scenarios, various combinations of attributes will usually be mandatory. This can be controlled by specifying feeder audit details in legacy archetypes. ",
            "$comments": "Defined in Common IM",
            "type": "object",
            "properties": {
                "system_id": {
                    "description": "Identifier of the system which handled the information item. \n",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "location": {
                    "description": "Identifier of the particular site/facility within an organisation which handled the item. For computability, this identifier needs to be e.g. a PKI identifier which can be included in the identifier list of the PARTY_IDENTIFIED object. ",
                    "$ref": "#/definitions/PARTY_IDENTIFIED"
                },
                "subject": {
                    "description": "Identifiers for subject of the received information item. ",
                    "$ref": "#/definitions/PARTY_PROXY"
                },
                "provider": {
                    "description": "Optional provider(s) who created, committed, forwarded or otherwise handled the item. ",
                    "$ref": "#/definitions/PARTY_IDENTIFIED"
                },
                "time": {
                    "description": "Time of handling the item. For an originating system, this will be time of creation, for an intermediate feeder system, this will be a time of accession or other time of handling, where available.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_DATE_TIME"
                },
                "version_id": {
                    "description": "Any identifier used in the system such as  \"interim\" ,  \"final\" , or numeric versions if available. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                }
            },
            "required": [
                "system_id"
            ],
            "$invariants": {
                "System_id_valid": {
                    "description": "not system_id.is_empty"
                }
            }
        },
        "VERSIONED_OBJECT": {
            "title": "VERSIONED_OBJECT",
            "description": "Version control abstraction, defining semantics for versioning one complex object.",
            "$comments": "Defined in Common IM",
            "type": "object",
            "properties": {
                "uid": {
                    "description": "Unique identifier of this version container in the form of a UID with no extension. This id will be the same in all instances of the same container in a distributed environment, meaning that it can be understood as the uid of the  virtual version tree. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/HIER_OBJECT_ID"
                },
                "owner_id": {
                    "description": "Reference to object to which this version container belongs, e.g. the id of the containing EHR or other relevant owning entity. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/OBJECT_REF"
                },
                "time_created": {
                    "description": "Time of initial creation of this versioned object. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_DATE_TIME"
                }
            },
            "required": [
                "uid",
                "owner_id",
                "time_created"
            ],
            "$functions": {
                "version_count": {
                    "description": "Return the total number of versions in this object."
                },
                "all_version_ids": {
                    "description": "Return a list of ids of all versions in this object. "
                },
                "all_versions": {
                    "description": "Return a list of all versions in this object. "
                },
                "has_version_at_time": {
                    "description": "True if a version for time  `_a_time_` exists. "
                },
                "has_version_id": {
                    "description": "True if a version with `_an_id_` exists. "
                },
                "version_with_id": {
                    "description": "Return the version with `_uid_` =  `_a_ver_id_`. \n"
                },
                "is_original_version": {
                    "description": "True if version with `_an_id_` is an `ORIGINAL_VERSION`. "
                },
                "version_at_time": {
                    "description": "Return the version for time  `_a_time_`. "
                },
                "revision_history": {
                    "description": "History of all audits and attestations in this versioned repository."
                },
                "latest_version": {
                    "description": "Return the most recently added version (i.e. on trunk or any branch). "
                },
                "latest_trunk_version": {
                    "description": "Return the most recently added trunk version. "
                },
                "trunk_lifecycle_state": {
                    "description": "Return the lifecycle state from the latest trunk version. Useful for determining if the version container is logically deleted. "
                },
                "commit_original_version": {
                    "description": "Add a new original version. "
                },
                "commit_original_merged_version": {
                    "description": "Add a new original merged version. This commit function adds a parameter containing the ids of other versions merged into the current one. "
                },
                "commit_imported_version": {
                    "description": "Add a new imported version. Details of version id etc come from the `ORIGINAL_VERSION` being committed. "
                },
                "commit_attestation": {
                    "description": "Add a new attestation to a specified original version. Attestations can only be added to Original versions. "
                }
            },
            "$invariants": {
                "Version_count_valid": {
                    "description": "version_count >= 0"
                },
                "All_version_ids_valid": {
                    "description": "all_version_ids.count = version_count"
                },
                "All_versions_valid": {
                    "description": "all_versions.count = version_count"
                },
                "Latest_version_valid": {
                    "description": "version_count > 0 implies latest_version /= Void"
                },
                "Uid_validity": {
                    "description": "extension.is_empty"
                },
                "Pre": {
                    "description": "has_version_id(a_ver_id)\nand is_original_version(a_ver_id)"
                },
                "Post": {
                    "description": "Result = latest_trunk_version.lifecycle_state"
                }
            }
        },
        "CONTRIBUTION": {
            "title": "CONTRIBUTION",
            "description": "Documents a Contribution (change set) of one or more versions added to a change-controlled repository. ",
            "$comments": "Defined in Common IM",
            "type": "object",
            "properties": {
                "uid": {
                    "description": "Unique identifier for this Contribution. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/HIER_OBJECT_ID"
                },
                "versions": {
                    "description": "Set of references to Versions causing changes to this EHR. Each contribution contains a list of versions, which may include paths pointing to any number of versionable items, i.e. items of types such as `COMPOSITION` and `FOLDER`. ",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/VERSION"
                    },
                    "minItems": 1
                },
                "audit": {
                    "description": "Audit trail corresponding to the committal of this Contribution. ",
                    "$ref": "#/definitions/AUDIT_DETAILS"
                }
            },
            "required": [
                "uid",
                "versions",
                "audit"
            ]
        },
        "VERSION": {
            "title": "VERSION",
            "description": "Abstract model of one Version within a Version container, containing data, commit audit trail, and the identifier of its Contribution.",
            "$comments": "Defined in Common IM, abstract",
            "type": "object",
            "properties": {
                "contribution": {
                    "description": "Contribution in which this version was added. ",
                    "$ref": "#/definitions/CONTRIBUTION"
                },
                "signature": {
                    "description": "OpenPGP digital signature or digest of content committed in this Version. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "commit_audit": {
                    "description": "Audit trail corresponding to the committal of this version to the `VERSIONED_OBJECT`.",
                    "$ref": "#/definitions/AUDIT_DETAILS"
                }
            },
            "required": [
                "contribution",
                "commit_audit"
            ],
            "$functions": {
                "uid": {
                    "description": "Unique identifier of this `VERSION`, in the form of an `{object_id, a version_tree_id, creating_system_id}` triple, where the `_object_id_` has the same value as the containing `VERSIONED_OBJECT _uid_`."
                },
                "preceding_version_uid": {
                    "description": "Unique identifier of the version of which this version is a modification; Void if this is the first version."
                },
                "data": {
                    "description": "The data of this Version."
                },
                "lifecycle_state": {
                    "description": "Lifecycle state of this version; coded by openEHR vocabulary 'version lifecycle state'. "
                },
                "canonical_form": {
                    "description": "A canonical serial form of this Version, suitable for generating reliable hashes and signatures."
                },
                "owner_id": {
                    "description": "Copy of the owning `VERSIONED_OBJECT._uid_` value; extracted from the local `_uid_` property's `_object_id_`."
                },
                "is_branch": {
                    "description": "True if this Version represents a branch. Derived from `_uid_` attribute. "
                }
            },
            "$invariants": {
                "Owner_id_valid": {
                    "description": "owner_id.value.is_equal (uid.object_id.value)"
                },
                "Preceding_version_uid_validity": {
                    "description": "uid.version_tree_id.is_first xor preceding_version_uid /= Void"
                },
                "Lifecycle_state_ valid": {
                    "description": "lifecycle_state /= Void and then terminology (Term_id_openehr).has_code_for_group_id (Group_id_version_lifecycle_state, lifecycle_state.defining_code)"
                },
                "Post": {
                    "description": "Result.value.is_equal (uid.object_id.value)"
                }
            }
        },
        "IMPORTED_VERSION": {
            "title": "IMPORTED_VERSION",
            "description": "Versions whose content is an ORIGINAL_VERSION copied from another location; this class inherits commit_audit and contribution from VERSION<T>, providing imported versions with their own audit trail and Contribution, distinct from those of the imported ORIGINAL_VERSION. ",
            "$comments": "Defined in Common IM, inherits from VERSION",
            "type": "object",
            "properties": {
                "contribution": {
                    "description": "Contribution in which this version was added. ",
                    "$ref": "#/definitions/CONTRIBUTION"
                },
                "signature": {
                    "description": "OpenPGP digital signature or digest of content committed in this Version. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "commit_audit": {
                    "description": "Audit trail corresponding to the committal of this version to the `VERSIONED_OBJECT`.",
                    "$ref": "#/definitions/AUDIT_DETAILS"
                },
                "item": {
                    "description": "The ORIGINAL_VERSION object that was imported. ",
                    "$ref": "#/definitions/ORIGINAL_VERSION"
                }
            },
            "required": [
                "contribution",
                "commit_audit",
                "item"
            ],
            "$inherits": [
                "#/definitions/VERSION"
            ],
            "$functions": {
                "uid": {
                    "description": "Computed version of inheritance precursor, derived as `_item.uid_`. "
                },
                "preceding_version_uid": {
                    "description": "Computed version of inheritance precursor, derived as `_item.preceding_version_uid_`. "
                },
                "data": {
                    "description": "Original content of this Version. \n"
                },
                "lifecycle_state": {
                    "description": "Lifecycle state of the content item in wrapped `ORIGINAL_VERSION`, derived as `_item.lifecycle_state_`; coded by openEHR vocabulary 'version lifecycle state'. "
                },
                "canonical_form": {
                    "description": "A canonical serial form of this Version, suitable for generating reliable hashes and signatures."
                },
                "owner_id": {
                    "description": "Copy of the owning `VERSIONED_OBJECT._uid_` value; extracted from the local `_uid_` property's `_object_id_`."
                },
                "is_branch": {
                    "description": "True if this Version represents a branch. Derived from `_uid_` attribute. "
                }
            },
            "$invariants": {
                "Owner_id_valid": {
                    "description": "owner_id.value.is_equal (uid.object_id.value)"
                },
                "Preceding_version_uid_validity": {
                    "description": "uid.version_tree_id.is_first xor preceding_version_uid /= Void"
                },
                "Lifecycle_state_ valid": {
                    "description": "lifecycle_state /= Void and then terminology (Term_id_openehr).has_code_for_group_id (Group_id_version_lifecycle_state, lifecycle_state.defining_code)"
                },
                "Post": {
                    "description": "Result = item.preceding_version_uid"
                }
            }
        },
        "ORIGINAL_VERSION": {
            "title": "ORIGINAL_VERSION",
            "description": "A Version containing locally created content and optional attestations. ",
            "$comments": "Defined in Common IM, inherits from VERSION",
            "type": "object",
            "properties": {
                "contribution": {
                    "description": "Contribution in which this version was added. ",
                    "$ref": "#/definitions/CONTRIBUTION"
                },
                "signature": {
                    "description": "OpenPGP digital signature or digest of content committed in this Version. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "commit_audit": {
                    "description": "Audit trail corresponding to the committal of this version to the `VERSIONED_OBJECT`.",
                    "$ref": "#/definitions/AUDIT_DETAILS"
                },
                "uid": {
                    "description": "Stored version of inheritance precursor. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/OBJECT_VERSION_ID"
                },
                "preceding_version_uid": {
                    "description": "Stored version of inheritance precursor. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/OBJECT_VERSION_ID"
                },
                "other_input_version_uids": {
                    "description": "Identifiers of other versions whose content was merged into this version, if any. ",
                    "type": "array",
                    "items": {
                        "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/OBJECT_VERSION_ID"
                    }
                },
                "lifecycle_state": {
                    "description": "Lifecycle state of the content item in this version; coded by openEHR vocabulary 'version lifecycle state'. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_CODED_TEXT"
                },
                "attestations": {
                    "description": "Set of attestations relating to this version. ",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ATTESTATION"
                    }
                },
                "data": {
                    "description": "Data content of this Version.",
                    "$ref": "#/definitions/T"
                }
            },
            "required": [
                "contribution",
                "commit_audit",
                "uid",
                "lifecycle_state"
            ],
            "$inherits": [
                "#/definitions/VERSION"
            ],
            "$functions": {
                "uid": {
                    "description": "Unique identifier of this `VERSION`, in the form of an `{object_id, a version_tree_id, creating_system_id}` triple, where the `_object_id_` has the same value as the containing `VERSIONED_OBJECT _uid_`."
                },
                "preceding_version_uid": {
                    "description": "Unique identifier of the version of which this version is a modification; Void if this is the first version."
                },
                "data": {
                    "description": "The data of this Version."
                },
                "lifecycle_state": {
                    "description": "Lifecycle state of this version; coded by openEHR vocabulary 'version lifecycle state'. "
                },
                "canonical_form": {
                    "description": "A canonical serial form of this Version, suitable for generating reliable hashes and signatures."
                },
                "owner_id": {
                    "description": "Copy of the owning `VERSIONED_OBJECT._uid_` value; extracted from the local `_uid_` property's `_object_id_`."
                },
                "is_branch": {
                    "description": "True if this Version represents a branch. Derived from `_uid_` attribute. "
                },
                "is_merged": {
                    "description": "True if this Version was created from more than just the preceding (checked out) version."
                }
            },
            "$invariants": {
                "Owner_id_valid": {
                    "description": "owner_id.value.is_equal (uid.object_id.value)"
                },
                "Preceding_version_uid_validity": {
                    "description": "uid.version_tree_id.is_first xor preceding_version_uid /= Void"
                },
                "Lifecycle_state_ valid": {
                    "description": "lifecycle_state /= Void and then terminology (Term_id_openehr).has_code_for_group_id (Group_id_version_lifecycle_state, lifecycle_state.defining_code)"
                },
                "Post": {
                    "description": "Result.value.is_equal (uid.object_id.value)"
                },
                "Attestations_valid": {
                    "description": "attestations /= Void implies not attestations.is_empty"
                },
                "Is_merged_validity": {
                    "description": "other_input_version_ids = Void xor is_merged"
                },
                "Other_input_version_uids_valid": {
                    "description": "other_input_version_uids /= Void implies not other_input_version_uids.is_empty"
                }
            }
        },
        "T": {
            "title": "T",
            "$comments": "Defined in Common IM",
            "type": "object"
        },
        "REVISION_HISTORY_ITEM": {
            "title": "REVISION_HISTORY_ITEM",
            "description": "An entry in a revision history, corresponding to a version from a versioned container. Consists of AUDIT_DETAILS instances with revision identifier of the revision to which the AUDIT_DETAILS intance belongs. ",
            "$comments": "Defined in Common IM",
            "type": "object",
            "properties": {
                "version_id": {
                    "description": "Version identifier for this revision. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/OBJECT_VERSION_ID"
                },
                "audits": {
                    "description": "The audits for this revision; there will always be at least one commit audit (which may itself be an ATTESTATION), there may also be further attestations. ",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/AUDIT_DETAILS"
                    },
                    "minItems": 1
                }
            },
            "required": [
                "version_id",
                "audits"
            ],
            "$invariants": {
                "Audit_valid": {
                    "description": "not audits.is_empty"
                }
            }
        },
        "AUDIT_DETAILS": {
            "title": "AUDIT_DETAILS",
            "description": "The set of attributes required to document the committal of an information item to a repository. ",
            "$comments": "Defined in Common IM",
            "type": "object",
            "properties": {
                "system_id": {
                    "description": "Identity of the system where the change was committed. Ideally this is a machine- and human-processable identifier, but it may not be. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "time_committed": {
                    "description": "Time of committal of the item. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_DATE_TIME"
                },
                "change_type": {
                    "description": "Type of change. Coded using the openEHR Terminology  audit change type  group.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_CODED_TEXT"
                },
                "description": {
                    "description": "Reason for committal. This may be used to qualify the value in the `_change_type_` field. For example, if the change affects only the EHR directory, this field might be used to indicate 'Folder \"episode 2018-02-16\" added' or similar.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_TEXT"
                },
                "committer": {
                    "description": "Identity and optional reference into identity management service, of user who committed the item. ",
                    "$ref": "#/definitions/PARTY_PROXY"
                }
            },
            "required": [
                "system_id",
                "time_committed",
                "change_type",
                "committer"
            ],
            "$invariants": {
                "System_id_valid": {
                    "description": "not system_id.is_empty"
                },
                "Change_type_valid": {
                    "description": "terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_audit_change_type, change_type.defining_code)"
                }
            }
        },
        "ATTESTATION": {
            "title": "ATTESTATION",
            "description": "Record an attestation of a party (the committer) to item(s) of record content. An attestation is an explicit signing by one healthcare agent of particular content for various particular purposes, including:\n\n* for authorisation of a controlled substance or procedure (e.g. sectioning of patient under mental health act); \n* witnessing of content by senior clinical professional; \n* indicating acknowledgement of content by intended recipient, e.g. GP who ordered a test result. \n",
            "$comments": "Defined in Common IM, inherits from AUDIT_DETAILS",
            "type": "object",
            "properties": {
                "system_id": {
                    "description": "Identity of the system where the change was committed. Ideally this is a machine- and human-processable identifier, but it may not be. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "time_committed": {
                    "description": "Time of committal of the item. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_DATE_TIME"
                },
                "change_type": {
                    "description": "Type of change. Coded using the openEHR Terminology  audit change type  group.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_CODED_TEXT"
                },
                "description": {
                    "description": "Reason for committal. This may be used to qualify the value in the `_change_type_` field. For example, if the change affects only the EHR directory, this field might be used to indicate 'Folder \"episode 2018-02-16\" added' or similar.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_TEXT"
                },
                "committer": {
                    "description": "Identity and optional reference into identity management service, of user who committed the item. ",
                    "$ref": "#/definitions/PARTY_PROXY"
                },
                "attested_view": {
                    "description": "Optional visual representation of content attested e.g. screen image. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_MULTIMEDIA"
                },
                "proof": {
                    "description": "Proof of attestation. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "items": {
                    "description": "Items attested, expressed as fully qualified runtime paths to the items in question. Although not recommended, these may include fine-grained items which have been attested in some other system. Otherwise it is assumed to be for the entire VERSION with which it is associated. ",
                    "type": "array",
                    "items": {
                        "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_EHR_URI"
                    }
                },
                "reason": {
                    "description": "Reason of this attestation. Optionally coded by the openEHR Terminology group  attestation reason ; includes values like  authorisation ,  witness  etc. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_TEXT"
                },
                "is_pending": {
                    "description": "True if this attestation is outstanding; False means it has been completed.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/Boolean"
                }
            },
            "required": [
                "system_id",
                "time_committed",
                "change_type",
                "committer",
                "reason",
                "is_pending"
            ],
            "$inherits": [
                "#/definitions/AUDIT_DETAILS"
            ],
            "$invariants": {
                "System_id_valid": {
                    "description": "not system_id.is_empty"
                },
                "Change_type_valid": {
                    "description": "terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_audit_change_type, change_type.defining_code)"
                },
                "Items_valid": {
                    "description": "items /= Void implies not items.is_empty"
                },
                "Reason_valid": {
                    "description": "(reason.generating_type.is_equal (\u201cDV_CODED_TEXT\u201d) implies terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_attestation_reason, reason.defining_code))"
                }
            }
        },
        "PARTICIPATION": {
            "title": "PARTICIPATION",
            "description": "Model of a participation of a Party (any Actor or Role) in an activity.  Used to represent any participation of a Party in some activity, which is not  explicitly in the model, e.g. assisting nurse. Can be used to record past or  future participations. \n\nShould not be used in place of more permanent relationships between demographic entities. ",
            "$comments": "Defined in Common IM",
            "type": "object",
            "properties": {
                "function": {
                    "description": "The function of the Party in this participation (note that a given party might participate in more than one way in a particular activity). This attribute should be coded, but cannot be limited to the HL7v3:ParticipationFunction vocabulary, since it is too limited and hospital-oriented. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_TEXT"
                },
                "mode": {
                    "description": "Optional field for recording the 'mode' of the performer / activity interaction, e.g. present, by telephone, by email etc. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_CODED_TEXT"
                },
                "performer": {
                    "description": "The id and possibly demographic system link of the party participating in the activity. ",
                    "$ref": "#/definitions/PARTY_PROXY"
                },
                "time": {
                    "description": "The time interval during which the participation took place, if it is used in an observational context (i.e. recording facts about the past); or the intended time interval of the participation when used in future contexts, such as EHR Instructions. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_INTERVAL_of_DV_DATE_TIME"
                }
            },
            "required": [
                "function",
                "performer"
            ],
            "$invariants": {
                "Function_valid": {
                    "description": "function.generating_type.is_equal (\"DV_CODED_TEXT\") implies\nterminology (Terminology_id_openehr).has_code_for_group_id (Group_id_participation_function, function.defining_code)"
                },
                "Mode_valid": {
                    "description": "mode /= Void implies terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_participation_mode, mode.defining_code)"
                }
            }
        },
        "PARTY_PROXY": {
            "title": "PARTY_PROXY",
            "description": "Abstract concept of a proxy description of a party, including an optional link to data for this party in a demographic or other identity management system. Sub- typed into `PARTY_IDENTIFIED` and `PARTY_SELF`. ",
            "$comments": "Defined in Common IM, abstract",
            "type": "object",
            "properties": {
                "external_ref": {
                    "description": "Optional reference to more detailed demographic or identification information for this party, in an external system. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/PARTY_REF"
                }
            }
        },
        "PARTY_IDENTIFIED": {
            "title": "PARTY_IDENTIFIED",
            "description": "Proxy data for an identified party other than the subject of the record, minimally consisting of human-readable identifier(s), such as name, formal (and possibly computable) identifiers such as NHS number, and an optional link to external data. There must be at least one of name, identifier or external_ref present.\n\nUsed to describe parties where only identifiers may be known, and there is no entry at all in the demographic system (or even no demographic system). Typically for health care providers, e.g. name and provider number of an institution. \n\nShould not be used to include patient identifying information. ",
            "$comments": "Defined in Common IM, inherits from PARTY_PROXY",
            "type": "object",
            "properties": {
                "external_ref": {
                    "description": "Optional reference to more detailed demographic or identification information for this party, in an external system. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/PARTY_REF"
                },
                "name": {
                    "description": "Optional human-readable name (in String form).",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "identifiers": {
                    "description": "One or more formal identifiers (possibly computable). \n",
                    "type": "array",
                    "items": {
                        "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_IDENTIFIER"
                    }
                }
            },
            "$inherits": [
                "#/definitions/PARTY_PROXY"
            ],
            "$invariants": {
                "Basic_validity": {
                    "description": "name /= Void or identifiers /= Void or external_ref /= Void"
                },
                "Name_valid": {
                    "description": "name /= Void implies not name.is_empty"
                },
                "Identifiers_valid": {
                    "description": "identifiers /= Void implies not identifiers.is_empty"
                }
            }
        },
        "PARTY_SELF": {
            "title": "PARTY_SELF",
            "description": "Party proxy representing the subject of the record. Used to indicate that the party is the owner of the record. May or may not have `_external_ref_` set. ",
            "$comments": "Defined in Common IM, inherits from PARTY_PROXY",
            "type": "object",
            "properties": {
                "external_ref": {
                    "description": "Optional reference to more detailed demographic or identification information for this party, in an external system. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/PARTY_REF"
                }
            },
            "$inherits": [
                "#/definitions/PARTY_PROXY"
            ]
        },
        "PARTY_RELATED": {
            "title": "PARTY_RELATED",
            "description": "Proxy type for identifying a party and its relationship to the subject of the record. Use where the relationship between the party and the subject of the record must be known. ",
            "$comments": "Defined in Common IM, inherits from PARTY_IDENTIFIED",
            "type": "object",
            "properties": {
                "external_ref": {
                    "description": "Optional reference to more detailed demographic or identification information for this party, in an external system. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/PARTY_REF"
                },
                "name": {
                    "description": "Optional human-readable name (in String form).",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "identifiers": {
                    "description": "One or more formal identifiers (possibly computable). \n",
                    "type": "array",
                    "items": {
                        "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_IDENTIFIER"
                    }
                },
                "relationship": {
                    "description": "Relationship of subject of this ENTRY to the subject of the record. May be coded. If it is the patient, coded as  self. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_CODED_TEXT"
                }
            },
            "required": [
                "relationship"
            ],
            "$inherits": [
                "#/definitions/PARTY_IDENTIFIED"
            ],
            "$invariants": {
                "Basic_validity": {
                    "description": "name /= Void or identifiers /= Void or external_ref /= Void"
                },
                "Name_valid": {
                    "description": "name /= Void implies not name.is_empty"
                },
                "Identifiers_valid": {
                    "description": "identifiers /= Void implies not identifiers.is_empty"
                },
                "Relationship_valid": {
                    "description": "terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_subject_relationship, relationship.defining_code)"
                }
            }
        },
        "REVISION_HISTORY": {
            "title": "REVISION_HISTORY",
            "description": "Purpose Defines the notion of a revision history of audit items, each associated with the version for which that audit was committed. The list is in most-recent-first order. ",
            "$comments": "Defined in Common IM",
            "type": "object",
            "properties": {
                "items": {
                    "description": "The items in this history in most-recent-last order. ",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/REVISION_HISTORY_ITEM"
                    },
                    "minItems": 1
                }
            },
            "required": [
                "items"
            ],
            "$functions": {
                "most_recent_version": {
                    "description": "The version id of the most recent item, as a String."
                },
                "most_recent_version_time_committed": {
                    "description": "The commit date/time of the most recent item, as a String. "
                }
            },
            "$invariants": {
                "Post": {
                    "description": "Result.is_equal (items.last.audits.first. time_committed.value)"
                }
            }
        },
        "VERSIONED_FOLDER": {
            "title": "VERSIONED_FOLDER",
            "description": "A version-controlled hierarchy of `FOLDERs` giving the effect of a directory. ",
            "$comments": "Defined in Common IM, inherits from VERSIONED_OBJECT",
            "type": "object",
            "properties": {
                "uid": {
                    "description": "Unique identifier of this version container in the form of a UID with no extension. This id will be the same in all instances of the same container in a distributed environment, meaning that it can be understood as the uid of the  virtual version tree. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/HIER_OBJECT_ID"
                },
                "owner_id": {
                    "description": "Reference to object to which this version container belongs, e.g. the id of the containing EHR or other relevant owning entity. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/OBJECT_REF"
                },
                "time_created": {
                    "description": "Time of initial creation of this versioned object. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_DATE_TIME"
                }
            },
            "required": [
                "uid",
                "owner_id",
                "time_created"
            ],
            "$inherits": [
                "#/definitions/VERSIONED_OBJECT"
            ],
            "$functions": {
                "version_count": {
                    "description": "Return the total number of versions in this object."
                },
                "all_version_ids": {
                    "description": "Return a list of ids of all versions in this object. "
                },
                "all_versions": {
                    "description": "Return a list of all versions in this object. "
                },
                "has_version_at_time": {
                    "description": "True if a version for time  `_a_time_` exists. "
                },
                "has_version_id": {
                    "description": "True if a version with `_an_id_` exists. "
                },
                "version_with_id": {
                    "description": "Return the version with `_uid_` =  `_a_ver_id_`. \n"
                },
                "is_original_version": {
                    "description": "True if version with `_an_id_` is an `ORIGINAL_VERSION`. "
                },
                "version_at_time": {
                    "description": "Return the version for time  `_a_time_`. "
                },
                "revision_history": {
                    "description": "History of all audits and attestations in this versioned repository."
                },
                "latest_version": {
                    "description": "Return the most recently added version (i.e. on trunk or any branch). "
                },
                "latest_trunk_version": {
                    "description": "Return the most recently added trunk version. "
                },
                "trunk_lifecycle_state": {
                    "description": "Return the lifecycle state from the latest trunk version. Useful for determining if the version container is logically deleted. "
                },
                "commit_original_version": {
                    "description": "Add a new original version. "
                },
                "commit_original_merged_version": {
                    "description": "Add a new original merged version. This commit function adds a parameter containing the ids of other versions merged into the current one. "
                },
                "commit_imported_version": {
                    "description": "Add a new imported version. Details of version id etc come from the `ORIGINAL_VERSION` being committed. "
                },
                "commit_attestation": {
                    "description": "Add a new attestation to a specified original version. Attestations can only be added to Original versions. "
                }
            },
            "$invariants": {
                "Version_count_valid": {
                    "description": "version_count >= 0"
                },
                "All_version_ids_valid": {
                    "description": "all_version_ids.count = version_count"
                },
                "All_versions_valid": {
                    "description": "all_versions.count = version_count"
                },
                "Latest_version_valid": {
                    "description": "version_count > 0 implies latest_version /= Void"
                },
                "Uid_validity": {
                    "description": "extension.is_empty"
                },
                "Pre": {
                    "description": "has_version_id(a_ver_id)\nand is_original_version(a_ver_id)"
                },
                "Post": {
                    "description": "Result = latest_trunk_version.lifecycle_state"
                }
            }
        },
        "FOLDER": {
            "title": "FOLDER",
            "description": "The concept of a named folder.",
            "$comments": "Defined in Common IM, inherits from LOCATABLE",
            "type": "object",
            "properties": {
                "name": {
                    "description": "Runtime name of this fragment, used to build runtime paths. This is the term provided via a clinical application or batch process to name this EHR construct: its retention in the EHR faithfully preserves the original label by which this entry was known to end users. \n",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/DV_TEXT"
                },
                "archetype_node_id": {
                    "description": "Design-time archetype id of this node taken from its generating archetype; used to build archetype paths. Always in the form of an  at  code, e.g.  at0005 . This value enables a \"standardised\" name for this node to be generated, by referring to the generating archetype local ontology. \n\nAt an archetype root point, the value of this attribute is always the stringified form of the archetype_id found in the archetype_details object. \n",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "uid": {
                    "description": "Optional globally unique object identifier for root points of archetyped structures. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/UID_BASED_ID"
                },
                "links": {
                    "description": "Links to other archetyped structures (data whose root object inherits from ARCHETYPED, such as ENTRY, SECTION and so on). Links may be to structures in other compositions. ",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/LINK"
                    }
                },
                "archetype_details": {
                    "description": "Details of archetyping used on this node.",
                    "$ref": "#/definitions/ARCHETYPED"
                },
                "feeder_audit": {
                    "description": "Audit trail from non-openEHR system of original commit of information forming the content of this node, or from a conversion gateway which has synthesised this node. ",
                    "$ref": "#/definitions/FEEDER_AUDIT"
                },
                "items": {
                    "description": "The list of references to other (usually) versioned objects logically in this folder. ",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/VERSIONED_OBJECT"
                    }
                },
                "folders": {
                    "description": "Sub-folders of this FOLDER. ",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/FOLDER"
                    }
                },
                "details": {
                    "description": "Archetypable extra meta-data for `FOLDER`.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_structures/all.json#/definitions/ITEM_STRUCTURE"
                }
            },
            "required": [
                "name",
                "archetype_node_id"
            ],
            "$inherits": [
                "#/definitions/LOCATABLE"
            ],
            "$functions": {
                "parent": {
                    "description": "Parent of this node in a compositional hierarchy. \n"
                },
                "item_at_path": {
                    "description": "The item at a path (relative to this item); only valid for unique paths, i.e. paths that resolve to a single item. "
                },
                "items_at_path": {
                    "description": "List of items corresponding to a non-unique path."
                },
                "path_exists": {
                    "description": "True if the path exists in the data with respect to the current item. "
                },
                "path_unique": {
                    "description": "True if the path corresponds to a single item in the data. "
                },
                "path_of_item": {
                    "description": "The path to an item relative to the root of this archetyped structure."
                },
                "concept": {
                    "description": "Clinical concept of the archetype as a whole (= derived from the archetype_node_id' of the root node) "
                },
                "is_archetype_root": {
                    "description": "True if this node is the root of an archetyped structure."
                }
            },
            "$invariants": {
                "Pre": {
                    "description": "path_exists (a_path)"
                },
                "Links_valid": {
                    "description": "links /= Void implies not links.is_empty"
                },
                "Archetyped_valid": {
                    "description": "is_archetype_root xor archetype_details = Void"
                },
                "Archetype_node_id_valid": {
                    "description": "not archetype_node_id.is_empty"
                },
                "Folders_valid": {
                    "description": "not folders.is_empty"
                }
            }
        },
        "AUTHORED_RESOURCE": {
            "title": "AUTHORED_RESOURCE",
            "description": "Abstract idea of an online resource created by a human author. \n",
            "$comments": "Defined in Common IM, abstract",
            "type": "object",
            "properties": {
                "uid": {
                    "description": "Unique identifier of the family of archetypes having the same interface identifier (same major version).",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Base_types/all.json#/definitions/UUID"
                },
                "original_language": {
                    "description": "Language in which this resource was initially authored. Although there is no language primacy of resources overall, the language of original authoring is required to ensure natural language translations can preserve quality. Language is relevant in both the description and ontology sections. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/CODE_PHRASE"
                },
                "description": {
                    "description": "Description and lifecycle information of the resource.",
                    "$ref": "#/definitions/RESOURCE_DESCRIPTION"
                },
                "is_controlled": {
                    "description": "True if this resource is under any kind of change control (even file copying), in which case revision history is created. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/Boolean"
                },
                "annotations": {
                    "description": "Annotations on individual items within the resource, keyed by path. The inner table takes the form of a Hash table of String values keyed by String tags.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Resource/all.json#/definitions/RESOURCE_ANNOTATIONS"
                },
                "translations": {
                    "description": "List of details for each natural translation made of this resource, keyed by language. For each translation listed here, there must be corresponding sections in all language-dependent parts of the resource. The original_language does not appear in this list.",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/TRANSLATION_DETAILS"
                    }
                },
                "revision_history": {
                    "description": "The revision history of the resource. Only required if is_controlled = True (avoids large revision histories for informal or private editing situations). ",
                    "$ref": "#/definitions/REVISION_HISTORY"
                }
            },
            "required": [
                "original_language"
            ],
            "$functions": {
                "current_revision": {
                    "description": "Most recent revision in revision_history if is_controlled else  (uncontrolled) . "
                },
                "languages_available": {
                    "description": "Total list of languages available in this resource, derived from original_language and translations. \n"
                }
            },
            "$invariants": {
                "Original_language_valid": {
                    "description": "code_set (Code_set_id_languages).has_code (original_language.as_string)"
                },
                "Current_revision_valid": {
                    "description": "(current_revision /= Void and not is_controlled) implies current_revision.is_equal (\u201c(uncontrolled)\u201d)"
                },
                "Translations_valid": {
                    "description": "translations /= Void implies (not translations.is_empty and not translations.has (orginal_language.code_string))"
                },
                "Description_valid": {
                    "description": "translations /= Void implies (description.details.for_all (d |\ntranslations.has_key (d.language.code_string)))"
                },
                "Languages_available_valid": {
                    "description": "languages_available.has (original_language)"
                },
                "Revision_history_valid": {
                    "description": "is_controlled xor revision_history = Void"
                },
                "Post": {
                    "description": "Result = revision_history.most_recent_version"
                }
            }
        },
        "RESOURCE_DESCRIPTION": {
            "title": "RESOURCE_DESCRIPTION",
            "description": "Defines the descriptive meta-data of a resource.",
            "$comments": "Defined in Common IM",
            "type": "object",
            "properties": {
                "original_author": {
                    "description": "Original author of this resource, with all relevant details, including organisation.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/Hash_of_String_String"
                },
                "original_namespace": {
                    "description": "Namespace of original author's organisation, in reverse internet form, if applicable.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "original_publisher": {
                    "description": "Plain text name of organisation that originally published this artefact, if any.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "other_contributors": {
                    "description": "Other contributors to the resource, probably listed in  name <email>  form. ",
                    "type": "array",
                    "items": {
                        "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                    }
                },
                "lifecycle_state": {
                    "description": "Lifecycle state of the resource, typically including states such as: initial, submitted, experimental, awaiting_approval, approved, superseded, obsolete. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "parent_resource": {
                    "description": "Reference to owning resource. ",
                    "$ref": "#/definitions/AUTHORED_RESOURCE",
                    "default": "0..1"
                },
                "custodian_namespace": {
                    "description": "Namespace in reverse internet id form, of current custodian organisation.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "custodian_organisation": {
                    "description": "Plain text name of current custodian organisation.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "copyright": {
                    "description": "Optional copyright statement for the resource as a knowledge resource. \n",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "licence": {
                    "description": "Licence of current artefact, in format \"short licence name <URL of licence>\", e.g. \"Apache 2.0 License <http://www.apache.org/licenses/LICENSE-2.0.html>\"",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "ip_acknowledgements": {
                    "description": "List of acknowledgements of other IP directly referenced in this archetype, typically terminology codes, ontology ids etc. Recommended keys are the widely known name or namespace for the IP source, as shown in the following example:\n\n----\nip_acknowledgements = <\n    [\"loinc\"] = <\"This content from LOINC\u00ae is copyright \u00a9 1995 Regenstrief Institute, Inc. and the LOINC Committee, and available at no cost under the license at http://loinc.org/terms-of-use\">\n    [\"snomedct\"] = <\"Content from SNOMED CT\u00ae is copyright \u00a9 2007 IHTSDO <ihtsdo.org>\">\n>\n----",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/Hash_of_String_String"
                },
                "references": {
                    "description": "List of references of material on which this artefact is based, as a keyed list of strings. The keys should be in a standard citation format.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/Hash_of_String_String"
                },
                "resource_package_uri": {
                    "description": "URI of package to which this resource belongs.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "conversion_details": {
                    "description": "Details related to conversion process that generated this model from an original, if relevant, as a list of name/value pairs. Typical example with recommended tags:\n\n----\nconversion_details = <\n    [\"source_model\"] = <\"CEM model xyz <http://location.in.clinicalelementmodels.com>\">\n    [\"tool\"] = <\"cem2adl v6.3.0\">\n    [\"time\"] = <\"2014-11-03T09:05:00\">\n>\n----",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/Hash_of_String_String"
                },
                "other_details": {
                    "description": "Additional non language-senstive resource meta-data, as a list of name/value pairs. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/Hash_of_String_String"
                },
                "details": {
                    "description": "Details of all parts of resource description that are natural language-dependent, keyed by language code. ",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/RESOURCE_DESCRIPTION_ITEM"
                    },
                    "minItems": 1
                }
            },
            "required": [
                "original_author",
                "lifecycle_state",
                "parent_resource",
                "details"
            ],
            "$invariants": {
                "Original_author_valid": {
                    "description": "not original_author.is_empty"
                },
                "Lifecycle_state_valid": {
                    "description": "not lifecycle_state.is_empty"
                },
                "Details_valid": {
                    "description": "not details.is_empty"
                },
                "Language_valid": {
                    "description": "parent_resource /= Void implies details.for_all (d | parent_resource.languages_available.has (d.language.code_string))"
                },
                "Parent_resource_valid": {
                    "description": "parent_resource /= Void implies parent_resource.description = self"
                }
            }
        },
        "TRANSLATION_DETAILS": {
            "title": "TRANSLATION_DETAILS",
            "description": "Class providing details of a natural language translation. ",
            "$comments": "Defined in Common IM",
            "type": "object",
            "properties": {
                "language": {
                    "description": "Language of the translation.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/CODE_PHRASE"
                },
                "author": {
                    "description": "Translator name and other demographic details.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/Hash_of_String_String"
                },
                "accreditaton": {
                    "description": "Accreditation of translator, usually a national translator's registration or association membership id.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "other_details": {
                    "description": "Any other meta-data.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/Hash_of_String_String"
                },
                "version_last_translated": {
                    "description": "Version of this resource last time it was translated into the language represented by this `TRANSLATION_DETAILS` object.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                }
            },
            "required": [
                "language",
                "author"
            ],
            "$invariants": {
                "Language_valid": {
                    "description": "code_set (Code_set_id_languages).has_code (language)"
                }
            }
        },
        "RESOURCE_DESCRIPTION_ITEM": {
            "title": "RESOURCE_DESCRIPTION_ITEM",
            "description": "Language-specific detail of resource description. When a resource is translated for use in another language environment, each `RESOURCE_DESCRIPTION_ITEM` needs to be copied and translated into the new language.",
            "$comments": "Defined in Common IM",
            "type": "object",
            "properties": {
                "language": {
                    "description": "The localised language in which the items in this description item are written. Coded from openEHR Code Set  languages .",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/RM/latest/Data_types/all.json#/definitions/CODE_PHRASE"
                },
                "purpose": {
                    "description": "Purpose of the resource.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "keywords": {
                    "description": "Keywords which characterise this resource, used e.g. for indexing and searching. ",
                    "type": "array",
                    "items": {
                        "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                    }
                },
                "use": {
                    "description": "Description of the uses of the resource, i.e. contexts in which it could be used. \n",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "misuse": {
                    "description": "Description of any misuses of the resource, i.e. contexts in which it should not be used.",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                },
                "original_resource_uri": {
                    "description": "URIs of original clinical document(s) or description of which resource is a formalisation, in the language of this description item; keyed by meaning. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/Hash_of_String_String"
                },
                "other_details": {
                    "description": "Additional language-senstive resource metadata, as a list of name/value pairs. ",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/Hash_of_String_String"
                },
                "copyright": {
                    "description": "Optional copyright statement for the resource as a knowledge resource. \n",
                    "$ref": "https://www.openEHR.org/releases/ITS-JSON/Release-1.0.0/BASE/latest/Foundation_types/all.json#/definitions/String"
                }
            },
            "required": [
                "language",
                "purpose"
            ],
            "$invariants": {
                "Language_valid": {
                    "description": "code_set (Code_set_id_languages).has_code (language)"
                },
                "Purpose_valid": {
                    "description": "not purpose.is_empty"
                },
                "Use_valid": {
                    "description": "use /= Void implies not use.is_empty"
                },
                "misuse_valid": {
                    "description": "misuse /= Void implies not misuse.is_empty"
                },
                "copyright_valid": {
                    "description": "copyright /= Void implies not copyright.is_empty"
                }
            }
        }
    }
}